<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Hayatemoon</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      * {
        -webkit-box-sizing: border-box;
      }

      body, html {
        margin: 0;
        padding: 40px 0;
      }

      body {
        font: 17px/1.5 "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
        background: white;
        margin: 0;
        color: #33333d;
        overflow-y: scroll;
        overflow-x: hidden;
      }

      h1 {
        font-size: 1.6em;
        margin-top: 0;
      }

      h2 {
        margin-top: 44px;
        font-size: 1.3em;
      }

      h3 {
        margin-top: 30px;
        font-size: 1em;
      }

      section {
        margin: 0 5.555555555555555%;
      }

      p {
        font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
      }

      a {
        color: #33a0c0;
      }

      code {
        font-family: monospace;
        font-size: 1.1em;
      }

      pre {
        background: white;
        border-top: 1px solid #eee;
        border-bottom: 1px solid #eee;
        padding: 25px;
        font-family: monospace;
        overflow-x: auto;
      }

      .wrapper {
        padding: 0 .75em;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
      }

      @media screen and (min-width:40em) {
        body {
          font-size: 1.0625em;
        }
      }

      @media screen and (min-width:45em) {
        body {
          font-size: 1em;
        }
      }

      @media screen and (min-width:55.5em) {
        body {
          font-size: 1.0625em;
        }
      }

      @media screen and (min-width:61.5em) {
        body {
          font-size: 1em;
        }
        section {
          margin: 0 16.666666666666664%;
        }
      }

      @media screen and (min-width:75em) {
        body {
          font-size: 1.0625em;
        }
      }

      @media screen and (min-width:87em) {
        body {
          font-size: 1em;
        }
        section {
          margin: 0 27.77777777777778%;
        }
      }

      @media screen and (min-width:105em) {
        body {
          font-size: 1.0625em;
        }
      }

      @media screen and (min-width:117em) {
        section {
          margin: 0 5.555555555555555%;
        }
        section .wrapper {
          width: 37.5%;
          margin-left: 25%;
        }
      }

      @media screen and (min-width:130em) {
        body {
          font-size: 1.125em;
          max-width: 160em;
        }
      }
    </style>
  </head>
  <body lang="en">
    <section>
      <div class="wrapper">
        <h1>Welcome.</h1>
        <h3>Under construction</h3>
        <p>Project hayatemoon main page will appear here.</p>
        <p>Your admin panel is available at <a href="/admin" target="blank">/admin</a>.
      </div>
    </section>
    <br>
    <br>
    <br>
    <section>
      <div id="ws" class="wrapper">
        <p><a href="#!" onclick="strapi.login('force12678', '126725518')">login</a></p>
        <p><a href="#!" onclick="strapi.register('abc@abc.com', 'force12678', '126725518')">register</a></p>
        <p id="jwt"></p>
      </div>
      <script src="auth.js"></script>
      <script>
        if(strapi.jwt) {
          document.getElementById('jwt').innerHTML = strapi.jwt
        }

        // find some adds
        fetch("/users/me", strapi.auth()).then(r=>r.json()).then(console.log)

        // find some adds
        // fetch("/advertises?rent_lt=130&rent_gt=70").then(r=>r.json()).then(console.log)

        // find ads of logged-in user
        fetch("/advertises/mine", strapi.auth()).then(r=>r.json()).then(console.log)

        // get an ad by id
        // fetch(`/advertises/${2}`).then(r=>r.json()).then(console.log)

        // create an ad
        // fetch("/advertises", strapi.auth({
        //   method: "POST",
        //   headers: { "Content-Type": "application/json" },
        //   body: JSON.stringify({
        //     title: "test js for authed user",
        //     description: "test fetch from js",
        //     class: "car",
        //     submitted: true,
        //   }),
        // })).then(r=>r.json()).then(console.log)

        // update an ad by id
        // fetch(`/advertises/${4}`, strapi.auth({
        //   method: "PUT",
        //   headers: { "Content-Type": "application/json" },
        //   body: JSON.stringify({
        //     title: "test ts ts ts",
        //     description: "test fetch from js 2 ( this is added with update and auth )",
        //     class: "car",
        //     submitted: true,
        //   }),
        // })).then(r=>r.json()).then(console.log)

        // delete an ad by id
        // fetch(`/advertises/${6}`, strapi.auth({
        //   method: "DELETE"
        // })).then(r=>r.json()).then(console.log)
      </script>
    </section>
  </body>
</html>
